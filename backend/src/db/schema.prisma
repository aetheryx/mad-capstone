datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id       Int    @id @default(autoincrement())
  username String @unique
  password String

  Participant Participant[]

  @@map("user")
}

model Conversation {
  id Int @id @default(autoincrement())

  Participant Participant[]

  @@map("conversation")
}

model Participant {
  user   User @relation(fields: [userID], references: [id])
  userID Int  @map("user_id")

  conversation   Conversation @relation(fields: [conversationID], references: [id])
  conversationID Int          @map("conversation_id")

  @@id([userID, conversationID])
  @@index([userID])
  @@map("participant")
}
